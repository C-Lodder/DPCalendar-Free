DPCalendar=window.DPCalendar||{},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(s))return t;t=t.parentElement}while(null!==t);return null}),function(e){"use strict";e.modal=function(e,t,o,n){var l=new tingle.modal({footer:!1,stickyFooter:!1,closeMethods:["overlay","button","escape"],cssClass:["dpcalendar-modal"],closeLabel:Joomla.JText._("JLIB_HTML_BEHAVIOR_CLOSE",!0),onClose:function(){n&&n(l.modalBox.children[0].querySelector("iframe"))}});t&&document.body.clientWidth>t&&(isNaN(t)||(t+="px"),document.querySelector(".tingle-modal-box").style.width=t),isNaN(o)||(o+="px"),l.setContent('<iframe width="100%" height="'+o+'" src="'+e.toString()+'" frameborder="0" allowfullscreen></iframe>'),l.open()},e.slideToggle=function(e,t){if(e){if(!e.getAttribute("data-max-height")){var o=window.getComputedStyle(e),n=o.display,l=o.position,i=o.visibility,a=e.offsetHeight;"none"===n&&(e.style.position="absolute",e.style.visibility="hidden",e.style.display="block",a=e.offsetHeight,e.style.display=n,e.style.position=l,e.style.visibility=i),e.style.transition="max-height 0.5s ease-in-out",e.style.overflowY="hidden",e.style.maxHeight="none"===n?"0px":a+"px",e.style.display="block",e.setAttribute("data-max-height",a+"px")}var s="0"===e.style.maxHeight.replace("px","").replace("%","");t&&e.addEventListener("transitionend",function(){t(s)},{once:!0}),setTimeout(function(){e.style.maxHeight=s?e.getAttribute("data-max-height"):"0"},1)}},e.encode=function(e){return e.replace(/&amp;/g,"&")},e.pad=function(e,t){for(var o=e+"";o.length<t;)o="0"+o;return o},e.isLocalStorageSupported=function(){try{return localStorage.setItem("test","1"),localStorage.removeItem("test"),!0}catch(e){return!1}},e.formToString=function(e){for(var t,o=[],n=0;n<e.elements.length;n++)if((t=e.elements[n]).name&&!t.disabled&&"file"!=t.type&&"reset"!=t.type&&"submit"!=t.type&&"button"!=t.type)if("select-multiple"==t.type)for(var l=e.elements[n].options.length-1;l>=0;l--)t.options[l].selected&&(o[o.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.options[l].value));else("checkbox"!=t.type&&"radio"!=t.type||t.checked)&&(o[o.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.value));return o.join("&").replace(/%20/g,"+")}}(DPCalendar);